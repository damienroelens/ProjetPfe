(function(t){"use strict";function e(e){l.geocode({location:e},function(e,a){if(a===google.maps.GeocoderStatus.OK){t(".date input[type=text]").val(e[0].formatted_address);var o=new Date,n=o.getMonth()+1,s=o.getDate(),i=o.getFullYear(),r=o.getHours(),l=o.getMinutes();t(".date input[type=time]").val(r+":"+l),t(".date input[type=date]").val(s+"/"+n+"/"+i)}else window.alert(a)})}function a(t){r=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),i.panTo(r),i.setZoom(17),c.setMap(i),c.setIcon("http://googlemaps.googlermania.com/img/google-marker-big.png"),c.setShadow("http://googlemaps.googlermania.com/img/google-marker-big-shadow.png"),c.setPosition(r)}function o(t){window.alert("erreur"+t)}function n(){navigator.geolocation.getCurrentPosition(a,o)}function s(){navigator.splashscreen.hide()}var i,r,l,c=new google.maps.Marker({map:i,draggable:!0}),d=function(){i=new google.maps.Map(document.getElementById("gmap"),{center:new google.maps.LatLng(50.833,4.333),zoom:10,scrollwheel:!1,draggable:!0,disableDoubleClickZoom:!0,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP}),setTimeout(function(){document.addEventListener("deviceready",s,!1)},2e3)};t(function(){t(".buttonNext").on("click",function(){var a=t("nav a.active").attr("class");a=/^[\w]+/.exec(a)[0];var o=t("#"+a+" div.etape");if(o.attr("style")){var n=/\d{1,4}\%/.exec(o.attr("style")),s=parseInt(n[0].substring(0,n[0].length-1))+100;if(o.css({"-webkit-transform":"translateX(-"+s+"%)"}),"1200%"==n[0]&&"declaration"==a&&t(".buttonNext").hide(),"200%"==n[0]&&"profil"==a&&t(".buttonNext").hide(),"100%"==n[0]&&"declaration"==a){var i=c.getPosition();e(i)}}else o.css({"-webkit-transform":"translateX(-100%)"});t(".buttonPrev").show()}),t(".buttonConfirm").on("click",function(){t("#declaration div.etape").css({"-webkit-transform":"translateX(-100%)"}),n(),t(".buttonPrev").show(),t(".buttonNext").show()}),t(".buttonPrev").on("click",function(){if(t("nav a").hasClass("active")){var e=/^[\w-]+/.exec(t("nav a.active").attr("class"))[0],a=t("#"+e+" div.etape"),o=/\d{1,4}\%/.exec(a.attr("style")),s=parseInt(o[0].substring(0,o[0].length-1))-100;a.css({"-webkit-transform":"translateX(-"+s+"%)"}),0===s&&(t(".buttonPrev").hide(),"declaration"==e&&t(".buttonNext").hide()),"200%"==o[0]&&"declaration"==e&&n(),"1300%"==o[0]&&"declaration"==e&&t(".buttonNext").show(),"300%"==o[0]&&"profil"==e&&t(".buttonNext").show()}}),t("p.resu").on("click",function(){var e=/[\w]+$/.exec(t(this).attr("class")),a=e[0];switch(a){case"donn":t("#declaration div.etape").css({"-webkit-transform":"translateX(-400%)"});break;case"circ":t("#declaration div.etape").css({"-webkit-transform":"translateX(-1100%)"});break;case"croq":t("#declaration div.etape").css({"-webkit-transform":"translateX(-1200%)"});break;case"phot":t("#declaration div.etape").css({"-webkit-transform":"translateX(-1300%)"}),t("buttonNext").hide()}}),t("nav a").on("click",function(e){e.preventDefault(),t("nav a").removeClass("active");var a=t(this).attr("class");t(this).addClass("active");var o=t("section");switch(a){case"declaration":o.css({"-webkit-transform":"translateY(-100%)"}),t("#declaration div.etape").attr("style")&&"0%"!=/\d{1,4}\%/.exec(t("#declaration div.etape").attr("style"))?(t(".buttonPrev").show(),"1300%"!==/\d{1,4}\%/.exec(t("#declaration div.etape").attr("style"))[0]?t(".buttonNext").show():t(".buttonNext").hide()):(t(".buttonPrev").hide(),t(".buttonNext").hide());break;case"profil":o.css({"-webkit-transform":"translateY(-200%)"}),t(".buttonNext").show(),t("#profil div.etape").attr("style")&&"0%"!=/\d{1,4}\%/.exec(t("#profil div.etape").attr("style"))?(t(".buttonPrev").show(),"300%"!==/\d{1,4}\%/.exec(t("#profil div.etape").attr("style"))[0]?t(".buttonNext").show():t(".buttonNext").hide()):t(".buttonPrev").hide();break;case"assistance":o.css({"-webkit-transform":"translateY(-300%)"}),t(".buttonPrev").filter(":visible")&&t(".buttonPrev").hide(),t(".buttonNext").filter(":visible")&&t(".buttonNext").hide();break;case"options":o.css({"-webkit-transform":"translateY(-400%)"}),t(".buttonPrev").filter(":visible")&&t(".buttonPrev").hide(),t(".buttonNext").filter(":visible")&&t(".buttonNext").hide()}}),l=new google.maps.Geocoder,d()})}).call(this,jQuery);